<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    AdonisJS - A fully featured web framework for Node.js
  </title>

  @vite(['resources/js/app.js', 'resources/css/app.css'])
</head>

<body>
  <div class="max-w-5xl mx-auto mt-6">
    @include('partials/nav')

    <h1>
      Hello Home page
    </h1>

    <div class="flex flex-wrap -mx-6">
      @each (movie in movies)
      <div class="w-full lg:w-1/3 px-3">
        @!component('components/movie/card', { movie, class: 'w-full'})

      </div>
      @endeach
    </div>

    <ul class="flex flex-col gap-4">
      @each ((movie, index) in movies)
      @let(isFirst = index === 0)


      <li>
        <a href="{{ route('movies.show', {slug: movie.slug}) }}" class="font-bold">
          {{ movie.title }}
        </a>
        <p class="text-slate-600">
          {{ truncate(movie.summary, 50, {completeWords: true}) }}
        </p>
      </li>
      @endeach
    </ul>
  </div>
</body>

</html>